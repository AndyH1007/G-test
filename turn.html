<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>回合進行中</title>
</head>
<body>
  <h1>我的藝廊 - 第 <span id="monthNum"></span> 回合</h1>
  <p>（此頁尚為結構預設，稍後整合藝術家卡、作品配置、任務、突發事件與販售）</p>
  <button onclick="next()">模擬結束回合 → 結算頁</button>
  <script>
    const state = JSON.parse(localStorage.getItem("my_gallery_state"));
    document.getElementById("monthNum").innerText = state.month;

    function next() {
      state.month += 1;
      state.money += 100;
      state.reputation += 1;
      state.history.push({ month: state.month, money: state.money, reputation: state.reputation, rate: 25 + Math.floor(Math.random() * 10) });
      if (state.month > 12) {
        localStorage.setItem("my_gallery_state", JSON.stringify(state));
        window.location.href = "summary.html";
      } else {
        localStorage.setItem("my_gallery_state", JSON.stringify(state));
        location.reload();
      }
    }
  </script>
</body>
</html>
